(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{5580:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(7294),i=t(3817),s=t(6427),o=t(1061),u=t(7636),c=t(5469),a=t(2593),l=t(5646),d=t(5893);function f(){var e=(0,i.ZP)(),n=(0,r.useState)(null),t=n[0];n[1];if(e.loading!==i._H)return null;if(null==e.authUser)return window.location.href="/login",null;var f=window.sessionStorage.getItem("edit-event");if(null==e.userData.events[f])return window.location.href="/create/event",null;var v=(0,d.jsx)(d.Fragment,{});null!=t&&(v=(0,d.jsx)(s.jj,{error:t}));var w=(0,u.aK)(f,e.userData.events[f]);return(0,d.jsxs)("div",{className:"fullscreen",children:[(0,d.jsx)("title",{children:"Edit Event"}),(0,d.jsx)(o.ZP,{authInfo:e}),(0,d.jsxs)("div",{className:"content",children:[(0,d.jsx)(s.Dx,{name:"Edit Event"}),(0,d.jsx)(s.iz,{}),(0,d.jsx)(c.Z,{inputs:l.Kt,submit:function(n,t){a.db.collection("users").doc(e.authUser.uid).collection("events").doc(w.docID).set({name:n.name,description:n.description,start:new Date(n.start).getTime(),end:new Date(n.end).getTime()}).then((function(){console.log("Document successfully written!"),window.location.replace("/user")})).catch((function(e){console.error("Error writing document: ",e),t()}))},message:"Edit Event!",prevState:w}),(0,d.jsx)("button",{onClick:function(n){n.preventDefault(),(0,u.Bt)(e.authUser.uid,f).then((function(){window.location.replace("/user")}))},className:"button",children:"Or... Remove Task"}),v]})]})}},7783:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create/event/edit",function(){return t(5580)}])}},function(e){e.O(0,[972,834,751,906,774,888,179],(function(){return n=7783,e(e.s=n);var n}));var n=e.O();_N_E=n}]);