(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{1162:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7294),i=n(3817),o=n(6427),a=n(1061),s=n(5646),u=n(5469),c=n(2593),l=n(5893);function f(){var e=(0,i.ZP)(),t=(0,r.useState)(null),n=t[0],f=t[1];if(e.loading!==i._H)return null;if(null!=e.authUser)return window.location.href="/",null;var d=(0,l.jsx)(l.Fragment,{});return null!=n&&(d=(0,l.jsx)(o.jj,{error:n})),(0,l.jsxs)("div",{className:"fullscreen",children:[(0,l.jsx)("title",{children:"Login"}),(0,l.jsx)(a.ZP,{authInfo:e}),(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)(o.Dx,{name:"Login"}),(0,l.jsx)(o.iz,{}),(0,l.jsx)(u.Z,{inputs:s.B5,message:"Log In",submit:function(e,t){c.I8.signInWithEmailAndPassword(e.email,e.password).then((function(e){window.location.replace("/")})).catch((function(e){f(e.message),t()}))}}),d]})]})}},5469:function(e,t,n){"use strict";var r=n(2809),i=n(8216),o=n(5997),a=n(3444),s=n(268),u=n(2953),c=n(7294),l=n(5893);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,a.Z)(n,e);var t=f(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={submitted:!1},r}return(0,o.Z)(n,[{key:"render",value:function(){var e=this,t=!0,n=this.props.inputs.map((function(n){var i=n.id,o="datetime-local"===n.type?e.state[n.id+"-type"]:n.type,a=n.required,s=n.placeholder,u=t?"top-input-offset":void 0,c="datetime-local"===n.type?function(t){e.setState((0,r.Z)({},n.id+"-type","datetime-local"))}:void 0,f="datetime-local"===n.type?function(t){""!==t.target.value||t.target.validity.badInput||e.setState((0,r.Z)({},n.id+"-type","text"))}:void 0,d=n.min,p=n.max,m=n.minLength,h=n.maxLength;return t&&(t=!1),(0,l.jsx)("input",{id:i,required:a,type:o,className:u,onFocus:c,onBlur:f,min:d,max:p,minLength:m,maxLength:h,onChange:function(t){return e.setState((0,r.Z)({},i,t.target.value))},placeholder:s},i)}));return(0,l.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.state.submitted||(console.log(e.state),e.setState({submitted:!0}),e.props.submit(e.state,(function(){return e.setState({submitted:!1})})))},children:[n,(0,l.jsx)("input",{type:"submit",className:"submit",value:this.props.message})]})}},{key:"componentDidMount",value:function(){for(var e={},t=0;t<this.props.inputs.length;t++){var n=this.props.inputs[t];if(this.setState((0,r.Z)({},n.id,"")),"datetime-local"===n.type){e[n.id]=!0;var i=null==this.props.prevState?"text":"datetime-local";this.setState((0,r.Z)({},n.id+"-type",i))}}if(null!=this.props.prevState)for(var o in this.props.prevState.value){var a=this.props.prevState.value[o];if(e[o]){var s=new Date(a);a=new Date(s.getTime()-6e4*s.getTimezoneOffset()).toISOString().slice(0,-1)}document.getElementById(o).value=a,this.setState((0,r.Z)({},o,a))}}}]),n}(c.Component);t.Z=d},5646:function(e,t,n){"use strict";n.d(t,{Kt:function(){return r},K9:function(){return i},B5:function(){return o}});var r=[{id:"name",type:"text",placeholder:"Event Name",required:!0},{id:"description",type:"text",placeholder:"Description (Optional)",required:!1},{id:"start",type:"datetime-local",placeholder:"Event Start",required:!0},{id:"end",type:"datetime-local",placeholder:"Event End",required:!0}],i=[{id:"name",type:"text",placeholder:"Project Name",required:!0},{id:"description",type:"text",placeholder:"Description (Optional)",required:!1},{id:"minutes",type:"number",placeholder:"Minutes Required",required:!0,min:0},{id:"due",type:"datetime-local",placeholder:"Due Date",required:!0}],o=[{id:"email",type:"email",placeholder:"Email",required:!0},{id:"password",type:"password",placeholder:"Password",required:!0}]},1061:function(e,t,n){"use strict";var r=n(2593),i=(n(7294),n(5893));function o(){return(0,i.jsx)("div",{className:"divider-vertical"})}t.ZP=function(e){return null==e.authInfo.authUser?(0,i.jsxs)("div",{className:"header",children:[(0,i.jsx)("a",{className:"item",href:"/",children:"Home"}),(0,i.jsx)(o,{}),(0,i.jsx)("a",{className:"item right",href:"/login",children:"Login"}),(0,i.jsx)("p",{className:"item",children:"or"}),(0,i.jsx)("a",{className:"item",href:"/signup",children:"Sign Up"})]}):(0,i.jsxs)("div",{className:"header",children:[(0,i.jsx)("a",{className:"item",href:"/",style:{padding:0},children:(0,i.jsx)("img",{src:"/images/logo.png"})}),(0,i.jsx)(o,{}),(0,i.jsx)("a",{className:"item",href:"/create",children:"Create A Task"}),(0,i.jsx)(o,{}),(0,i.jsxs)("div",{className:"profile right",children:[(0,i.jsx)("a",{className:"item",href:"/user",children:"My Tasks"}),(0,i.jsx)("a",{className:"dropdown-item",href:"/logout",onClick:function(e){r.I8.signOut();return!0},children:"Log Out"})]})]})}},6427:function(e,t,n){"use strict";n.d(t,{qO:function(){return i},Dx:function(){return o},iz:function(){return a},jj:function(){return s}});n(7294);var r=n(5893);function i(e){var t=e.buttons.map((function(e){var t=e.name,n=e.description,i=e.href;return(0,r.jsxs)("a",{className:"button",href:i,children:[(0,r.jsx)("span",{className:"event-name",children:t}),(0,r.jsx)("span",{className:"description",children:n})]},t)}));return(0,r.jsx)("div",{className:"main-task-menu",children:t})}function o(e){return(0,r.jsx)("h1",{className:"title",children:e.name})}function a(){return(0,r.jsx)("hr",{className:"divider"})}function s(e){return(0,r.jsx)("div",{className:"error",children:e.error})}},3817:function(e,t,n){"use strict";n.d(t,{_H:function(){return f},ZP:function(){return d}});var r=n(2809),i=n(266),o=n(809),a=n.n(o),s=n(7294),u=n(2593);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=!1;function d(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=(0,s.useState)(true),o=r[0],c=r[1],d=(0,s.useState)(null),p=d[0],m=d[1];return(0,s.useEffect)((function(){var e=u.I8.onAuthStateChanged((function(t){(function(){var e=(0,i.Z)(a().mark((function e(t){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return n(null),c(f),e.abrupt("return");case 4:return e.next=6,u.db.collection("users").doc(t.uid).get();case 6:return r=e.sent.data(),e.next=9,u.db.collection("users").doc(t.uid).collection("projects");case 9:return i=e.sent,e.next=12,i.get().then((function(e){var t={};e.forEach((function(e){t[e.id]=l({},e.data())})),r.projects=t}));case 12:return e.next=14,u.db.collection("users").doc(t.uid).collection("events");case 14:return o=e.sent,e.next=17,o.get().then((function(e){var t={};e.forEach((function(e){t[e.id]=l({},e.data())})),r.events=t}));case 17:n(t),m(r),c(f);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t).then((function(){return e()}))}))}),[]),{authUser:t,loading:o,userData:p}}},2593:function(e,t,n){"use strict";n.d(t,{db:function(){return i},I8:function(){return o}});var r=n(5503);n(3759),n(6690),n(3935);r.Z.apps.length||r.Z.initializeApp({apiKey:"AIzaSyBm2m4FM61C-VrKC3lRLT_8Cq0GxgblrGg",authDomain:"classified-bfa24.firebaseapp.com",databaseURL:"https://classified-bfa24-default-rtdb.firebaseio.com",projectId:"classified-bfa24",storageBucket:"classified-bfa24.appspot.com",messagingSenderId:"685388058525",appId:"1:685388058525:web:77dafea83b88b620e9a974",measurementId:"G-8C5N4Z77YP"});var i=r.Z.firestore(),o=r.Z.auth()},7156:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1162)}])},4695:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},8216:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5997:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return i}})},2953:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},3444:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},268:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return o}});var i=n(4695);function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}}},function(e){e.O(0,[972,834,751,774,888,179],(function(){return t=7156,e(e.s=t);var t}));var t=e.O();_N_E=t}]);